<header>
  {{ "ALLTRANSACTIONS.TITLE" | translate }}
</header>

<section class="top-nav">

  <div class="pull-left col-xs-3">
     <select required class="form-kapok" id="account" ng-model="model.account_id">
        <option value="0">-- {{"SELECT.ALL" | translate }} --</option>
        <option ng-repeat="acc in accounts.data | orderBy:'account_number'" value='{{acc.id}}' ng-disabled="acc.account_type_id==3">{{formatAccount(acc)}}</option>
     </select>
  </div>

  <div>
    <div class="col-xs-2">
      <input class="form-kapok" type="date" ng-model="dates.from" rows="20">
    </div>
    <div class="col-xs-2">
      <input class="form-kapok" type="date" ng-model="dates.to" rows="20">
    </div>
    <div class="col-xs-3">
       <select class="form-kapok" id="sources" ng-model="model.source_id">
        <option value="" disabled="disabled"> -- {{"SELECT.SOURCE" | translate }} -- </option>
        <option ng-repeat="source in model.sources" value='{{$index}}'>{{source}}</option>
     </select>

    </div>
  </div>

  <div class="pull-right">

    <a href="" class="btn btn-sm btn-primary" ng-click="search()"> {{ "ALLTRANSACTIONS.SEARCH" | translate }}
    </a>
  </div>
</section>

<div class="report">
  <div class="reportBody">
    <div class="reportFrame" ng-switch="mode">

        <div ng-switch-default>
          <h4>{{ "ALLTRANSACTIONS.DEFAULT" | translate }}</small></h4>
          <table id="transactionsTable" class="reportTable">
            <thead>
              <tr>
                <th>{{ "COLUMNS.ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_DATE" | translate }}</th>
                <th>{{ "COLUMNS.DEBIT" | translate }}</th>
                <th>{{ "COLUMNS.CREDIT" | translate }}</th>
                <th>{{ "COLUMNS.ACCOUNT_NUMBER" | translate }}</th>
                <th>{{ "COLUMNS.DESCRIPTION" | translate }}</th>
                <th>{{ "COLUMNS.COMMENT" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat='record in records'>
                <td> {{ record.id }} </td>
                <td> {{ record.trans_id }} </td>
                <td> {{ record.trans_date | date }} </td>
                <td> {{ record.debit | currency}} </td>
                <td> {{ record.credit | currency}} </td>
                <td> {{ record.account_number }} </td>
                <td> {{ record.description}} </td>
                <td> {{ record.comment}} </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div ng-switch-when="selected">
          <h4>{{ "ALLTRANSACTIONS.SELECTED" | translate }} <small> {{model.account_number}}</small></h4>
          <table id="transactionsTable" class="reportTable">
            <thead>
              <tr>
                <th>{{ "COLUMNS.ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_DATE" | translate }}</th>
                <th>{{ "COLUMNS.DEBIT" | translate }}</th>
                <th>{{ "COLUMNS.CREDIT" | translate }}</th>
                <th>{{ "COLUMNS.DESCRIPTION" | translate }}</th>
                <th>{{ "COLUMNS.COMMENT" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat='record in records'>
                <td> {{ record.id }} </td>
                <td> {{ record.trans_id }} </td>
                <td> {{ record.trans_date | date }} </td>
                <td> {{ record.debit | currency}} </td>
                <td> {{ record.credit | currency}} </td>
                <td> {{ record.description}} </td>
                <td> {{ record.comment}} </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div ng-switch-when="all">
          <h4>{{ "ALLTRANSACTIONS.DEFAULT" | translate }}</small></h4>
          <table id="transactionsTable" class="reportTable">
            <thead>
              <tr>
                <th>{{ "COLUMNS.ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_ID" | translate }}</th>
                <th>{{ "COLUMNS.TRANS_DATE" | translate }}</th>
                <th>{{ "COLUMNS.DEBIT" | translate }}</th>
                <th>{{ "COLUMNS.CREDIT" | translate }}</th>
                <th>{{ "COLUMNS.ACCOUNT_NUMBER" | translate }}</th>
                <th>{{ "COLUMNS.DESCRIPTION" | translate }}</th>
                <th>{{ "COLUMNS.COMMENT" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat='record in records'>
                <td> {{ record.id }} </td>
                <td> {{ record.trans_id }} </td>
                <td> {{ record.trans_date | date }} </td>
                <td> {{ record.debit | currency}} </td>
                <td> {{ record.credit | currency}} </td>
                <td> {{ record.account_number }} </td>
                <td> {{ record.description}} </td>
                <td> {{ record.comment}} </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
  </div>
</div>

